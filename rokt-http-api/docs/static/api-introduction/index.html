<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Rokt API Introduction · Rokt</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="The Rokt API provides Rokt partners with the ability to upsell additional products from within their transaction flows. It works in concert with the Rokt JavaScript SDK, which provides the ability to render front-end placements (widgets) and provides hooks to update the partner&#x27;s cart. A partner wishing to present Rokt upsells to their customers would, therefore, need to:"/><meta name="docsearch:version" content="1.0.0"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="Rokt API Introduction · Rokt"/><meta property="og:type" content="website"/><meta property="og:url" content="https://rokt.github.io/rokt-http-api/"/><meta property="og:description" content="The Rokt API provides Rokt partners with the ability to upsell additional products from within their transaction flows. It works in concert with the Rokt JavaScript SDK, which provides the ability to render front-end placements (widgets) and provides hooks to update the partner&#x27;s cart. A partner wishing to present Rokt upsells to their customers would, therefore, need to:"/><meta name="twitter:card" content="summary"/><link rel="shortcut icon" href="/rokt-http-api/img/favicon.ico"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><script type="text/javascript" src="/rokt-http-api/fontawesome/brands.min.js"></script><script type="text/javascript" src="/rokt-http-api/fontawesome/fontawesome.min.js"></script><script type="text/javascript" src="/rokt-http-api/hack-header-icon.js"></script><script type="text/javascript" src="/rokt-http-api/hack-contact-us.js"></script><script src="/rokt-http-api/js/scrollSpy.js"></script><link rel="stylesheet" href="/rokt-http-api/css/main.css"/><script src="/rokt-http-api/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/rokt-http-api/"><img class="logo" src="/rokt-http-api/img/rokt-logo-white.svg" alt="Rokt"/></a><a href="/rokt-http-api/versions"><h3>1.0.0</h3></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class=""><a href="/rokt-http-api/introduction" target="_self">Introduction</a></li><li class=""><a href="/rokt-sdk-js/docs/static/rokt-sdk-js/static-introduction" target="_self">Web SDK</a></li><li class="siteNavGroupActive siteNavItemActive"><a href="/rokt-http-api/docs/static/api-introduction" target="_self">Rokt API</a></li><li class=""><a href="/rokt-http-api/help" target="_self">Help</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><div class="hamburger-menu"><div class="line1"></div><div class="line2"></div><div class="line3"></div></div></div><h2><i>›</i><span>Getting started</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle">Getting started</h3><ul class=""><li class="navListItem navListItemActive"><a class="navItem" href="/rokt-http-api/docs/static/api-introduction">Introduction</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Rokt HTTP API</h3><ul class=""><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">API Methods</h4><ul><li class="navListItem"><a class="navItem" href="/rokt-http-api/docs/rokt-http-api/post-v1-placements-any">POST /v1/Placements/any</a></li><li class="navListItem"><a class="navItem" href="/rokt-http-api/docs/rokt-http-api/post-v1-cart-reserve">POST /v1/Cart/reserve</a></li><li class="navListItem"><a class="navItem" href="/rokt-http-api/docs/rokt-http-api/post-v1-cart-release">POST /v1/Cart/release</a></li><li class="navListItem"><a class="navItem" href="/rokt-http-api/docs/rokt-http-api/post-v1-cart-confirm">POST /v1/Cart/confirm</a></li></ul></div></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              var headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                var el = event.target;
                while(el !== headings){
                  if (el.tagName === 'A') {
                    document.body.classList.remove('tocActive');
                    break;
                  } else{
                    el = el.parentNode;
                  }
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><h1 id="__docusaurus" class="postHeaderTitle">Rokt API Introduction</h1></header><article><div><span><p>The Rokt API provides Rokt partners with the ability to upsell additional products from within their transaction flows. It works in concert with the Rokt JavaScript SDK, which provides the ability to render front-end placements (widgets) and provides hooks to update the partner's cart. A partner wishing to present Rokt upsells to their customers would, therefore, need to:</p>
<ul>
<li>Integrate their back-end cart/check-out system with the Rokt HTTP API (this spec), and</li>
<li>Integrate the Rokt JavaScript SDK into their cart front-end (JS SDK spec)</li>
</ul>
<p>An example of a Rokt add-to-cart product is a parking spot. A ticketing partner, for example, can upsell parking spots to their customers while they are purchasing event tickets. These parking spots are sourced through Parkwhiz.</p>
<h3><a class="anchor" aria-hidden="true" id="in-transaction-request-flow"></a><a href="#in-transaction-request-flow" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>In-transaction request flow</h3>
<p>To be able to fulfil customer order partners need to adhere to following transaction flow.</p>
<p><img src="https://confluence-connect.gliffy.net/embed/image/a1f98d7e-a11b-4435-afc7-4bc6f1e1cade.png?utm_medium=live&amp;utm_source=custom" alt="Request flow"></p>
<ol>
<li><p>Call <a href="http://developers.rokt.com/rokt-http-api/docs/rokt-http-api/post-v1-placements-any"><strong>/placements/any</strong></a> to determine whether there are any placements to display, and potentially skip the upsell stage if applicable.</p></li>
<li><p>Based on whether <strong>/placements/any</strong> returns true or false the partner can choose to show or skip the upsell page in the transaction flow. On the upsell, page partner must initialise <a href="http://developers.rokt.com/rokt-sdk-js/docs/static/static-introduction.html">JS SDK</a>. JS SDK will request and display available placements.</p></li>
<li><p>Once user opts-in JS SDK informs partner's front-end by calling <a href="http://developers.rokt.com/rokt-sdk-js/docs/rokt-js-sdk/interfaces/cart#onupdateitem">updateItemCallback</a>. Then partner can proceed with the normal purchase process.</p></li>
<li><p>Call <a href="http://developers.rokt.com/rokt-http-api/docs/rokt-http-api/post-v1-cart-reserve"><strong>/cart/reserve</strong></a> to reserve/hold the items for a set period of time during which the purchase must be completed and confirmed with Rokt. If multiple cart items are passed into this method, some of them might be reserved successfully, and some might be rejected.</p></li>
<li><p>Once user paid for the items call <a href="http://developers.rokt.com/rokt-http-api/docs/rokt-http-api/post-v1-cart-confirm"><strong>/cart/confirm</strong></a> to confirm the successful purchase of items. Rokt will then inform the relevant provider of the products for fulfilment.</p></li>
<li><p>[Alternative] Call <a href="http://developers.rokt.com/rokt-http-api/docs/rokt-http-api/post-v1-cart-release"><strong>/cart/release</strong></a> to cancel a reservation on a set of items. This is optional as reserved items that are not confirmed are automatically released after a timeout. This is suitable for partners with highly bursty traffic requiring prompt release of reserved items.</p></li>
</ol>
</span></div></article></div><div class="docs-prevnext"><a class="docs-next button" href="/rokt-http-api/docs/rokt-http-api/post-v1-placements-any"><span>POST /v1/Placements/any</span><span class="arrow-next"> →</span></a></div></div></div><nav class="onPageNav"></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><div><h5>DOCS</h5><a href="/rokt-http-api/docs/static/static-introduction">Getting Started</a><a href="/rokt-http-api/docs/rokt-js-sdk/rokt-js-sdk-introduction">Rokt Javascript SDK</a></div><div><h5>ROKT</h5><a href="https://rokt.com/privacy-policy/" target="_blank" rel="noreferrer noopener">Privacy Policy</a><a href="https://rokt.com/contact-us/" target="_blank" rel="noreferrer noopener">Contact Us</a><a href="https://rokt.com/engineering-blog/" target="_blank" rel="noreferrer noopener">Blog</a></div><div><a href="https://rokt.com" class="nav-home"><img src="/rokt-http-api/img/rokt-logo-white.svg" alt="Rokt"/></a><div class="social"><a href="https://www.facebook.com/ROKT" target="_blank" rel="noreferrer noopener"><i class="fab fa-facebook-square"></i></a><a href="https://tweeter.com/rokt" target="_blank" rel="noreferrer noopener"><i class="fab fa-twitter-square"></i></a><a href="https://www.linkedin.com/company/rokt" target="_blank" rel="noreferrer noopener"><i class="fab fa-linkedin"></i></a></div></div></section><section class="copyright">Copyright © Rokt 2020 - All Rights Reserved</section></footer></div></body></html>